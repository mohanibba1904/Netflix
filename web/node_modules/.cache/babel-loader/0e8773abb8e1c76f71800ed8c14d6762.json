{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Nagababu\\\\Documents\\\\GitHub\\\\Netflix\\\\web\\\\src\\\\components\\\\Home\\\\index.js\";\nimport { Component } from 'react';\nimport Cookies from 'js-cookie';\nimport Loader from 'react-loader-spinner';\nimport { RiCloseFill } from 'react-icons/ri';\nimport { BsSearch } from 'react-icons/bs';\nimport Header from '../Header';\nimport SidebarSection from '../SidebarContainer';\nimport VideoItemCard from '../VideoListItem';\nimport Context from '../../Context/Context';\nimport './index.css';\nimport { HomeContainer, HomeBarsContainer, MainContainer, BannerContainer, BannerContentContainer, BannerCloseButton, BannerHeading, BannerImage, BannerButton, VideosListHome, FailureViewContainer, FailureViewImage, FailureHeading, FailureText, FailureRetryButton, SearchForm, SearchInput, SearchButton, NoVideosViewContainer, NoVideosViewImage, NoVideosHeading, NoVideosText, NoVideosViewRetryButton } from './styledComponents';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiConstants = {\n  initial: 'INITIAL',\n  success: 'SUCCESS',\n  failure: 'FAILURE',\n  inProgress: 'IN_PROGRESS'\n};\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isBannerActive: true,\n      apiStatus: apiConstants.initial,\n      videosList: [],\n      searchInput: '',\n      searchParameter: ''\n    };\n\n    this.updateSearchValue = event => {\n      this.setState({\n        searchInput: event.target.value\n      });\n    };\n\n    this.onSubmitSearchForm = () => {\n      const {\n        searchInput\n      } = this.state;\n      this.setState({\n        searchParameter: searchInput\n      }, this.getVideosData);\n    };\n\n    this.changeActiveRoute = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          alterActiveRoute,\n          activeRoute\n        } = value;\n        alterActiveRoute('home');\n        console.log(activeRoute);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }, this);\n\n    this.getVideosData = async () => {\n      this.setState({\n        apiStatus: apiConstants.inProgress\n      });\n      const {\n        searchParameter\n      } = this.state;\n      const JwtToken = Cookies.get('jwt_token');\n      const videosListUrl = `http://127.0.0.1:8000/movies`;\n      const options = {\n        method: 'GET'\n      };\n      const response = await fetch(videosListUrl, options);\n\n      if (response.ok) {\n        const responseData = await response.json();\n        const formattedData = responseData.videos.map(eachItem => ({\n          channel: {\n            name: eachItem.channel.name,\n            profileImageUrl: eachItem.channel.profile_image_url\n          },\n          id: eachItem.id,\n          publishedAt: eachItem.published_at,\n          thumbnailUrl: eachItem.thumbnail_url,\n          title: eachItem.title,\n          viewCount: eachItem.view_count\n        }));\n        this.setState({\n          videosList: formattedData,\n          apiStatus: apiConstants.success\n        });\n      } else {\n        this.setState({\n          apiStatus: apiConstants.failure\n        });\n      }\n    };\n\n    this.hideBanner = () => {\n      this.setState({\n        isBannerActive: false\n      });\n    };\n\n    this.onClickFailureRetry = () => {\n      this.getVideosData();\n    };\n\n    this.renderFailureView = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isLightThemeActive\n        } = value;\n        const failureImage = isLightThemeActive ? 'https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png' : 'https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png';\n        const failureHeadingColor = isLightThemeActive ? '#00306e' : '#ebebeb';\n        const failureTextColor = isLightThemeActive ? '#64748b' : '#d7dfe9';\n        return /*#__PURE__*/_jsxDEV(FailureViewContainer, {\n          children: [/*#__PURE__*/_jsxDEV(FailureViewImage, {\n            src: failureImage,\n            alt: \"failure view\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FailureHeading, {\n            color: failureHeadingColor,\n            children: \"Oops! Something Went Wrong\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FailureText, {\n            color: failureTextColor,\n            children: \"We are having some trouble to complete you request. Please try again.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(FailureRetryButton, {\n            type: \"button\",\n            onClick: this.onClickFailureRetry,\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 5\n    }, this);\n\n    this.renderLoaderView = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isLightThemeActive\n        } = value;\n        const loaderColor = isLightThemeActive ? '#000000' : '#ffffff';\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loader-container\",\n          \"data-testid\": \"loader\",\n          children: /*#__PURE__*/_jsxDEV(Loader, {\n            type: \"ThreeDots\",\n            color: loaderColor,\n            height: \"50\",\n            width: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 5\n    }, this);\n\n    this.noVideosView = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isLightThemeActive\n        } = value;\n        const headingColor = isLightThemeActive ? '#181818' : '#f9f9f9';\n        const textColor = isLightThemeActive ? '#454545' : '#cecece';\n        return /*#__PURE__*/_jsxDEV(NoVideosViewContainer, {\n          children: [/*#__PURE__*/_jsxDEV(NoVideosViewImage, {\n            src: \"https://assets.ccbp.in/frontend/react-js/nxt-watch-no-search-results-img.png\",\n            alt: \"no videos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NoVideosHeading, {\n            color: headingColor,\n            children: \"No Search results found\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NoVideosText, {\n            color: textColor,\n            children: \"Try different key words or remove search filter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(NoVideosViewRetryButton, {\n            type: \"button\",\n            onClick: this.getVideosData,\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 5\n    }, this);\n\n    this.videosList = () => {\n      const {\n        videosList\n      } = this.state;\n\n      if (videosList.length === 0) {\n        return this.noVideosView();\n      }\n\n      return /*#__PURE__*/_jsxDEV(VideosListHome, {\n        children: videosList.map(eachItem => /*#__PURE__*/_jsxDEV(VideoItemCard, {\n          videoItem: eachItem\n        }, eachItem.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 11\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 7\n      }, this);\n    };\n\n    this.renderBannerContainer = () => /*#__PURE__*/_jsxDEV(BannerContainer, {\n      \"data-testid\": \"banner\",\n      children: [/*#__PURE__*/_jsxDEV(BannerContentContainer, {\n        children: [/*#__PURE__*/_jsxDEV(BannerImage, {\n          src: \"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png\",\n          alt: \"nxt watch logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(BannerHeading, {\n          children: \"Buy Nxt Watch Premium\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(BannerButton, {\n          type: \"button\",\n          children: \"GET IT NOW\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(BannerCloseButton, {\n        type: \"button\",\n        onClick: this.hideBanner,\n        \"data-testid\": \"close\",\n        children: /*#__PURE__*/_jsxDEV(RiCloseFill, {\n          size: \"22\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 5\n    }, this);\n\n    this.renderAllVideosList = () => {\n      const {\n        apiStatus\n      } = this.state;\n\n      switch (apiStatus) {\n        case apiConstants.failure:\n          return this.renderFailureView();\n\n        case apiConstants.inProgress:\n          return this.renderLoaderView();\n\n        case apiConstants.success:\n          return this.videosList();\n\n        default:\n          return null;\n      }\n    };\n\n    this.renderSearchContainer = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isLightThemeActive\n        } = value;\n        const inputTextColor = isLightThemeActive ? '#181818' : '#f9f9f9';\n        const buttonBackgroundColor = isLightThemeActive ? '#f9f9f9' : '#181818';\n        return /*#__PURE__*/_jsxDEV(SearchForm, {\n          children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n            placeholder: \"Search\",\n            type: \"search\",\n            color: inputTextColor,\n            onChange: this.updateSearchValue\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n            type: \"button\",\n            backgroundColor: buttonBackgroundColor,\n            \"data-testid\": \"searchButton\",\n            onClick: this.onSubmitSearchForm,\n            children: /*#__PURE__*/_jsxDEV(BsSearch, {\n              size: \"22\",\n              color: inputTextColor\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 265,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 5\n    }, this);\n\n    this.renderMainContainer = () => /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isBannerActive\n        } = this.state;\n        const {\n          isLightThemeActive\n        } = value;\n        const mainContainerBgColor = isLightThemeActive ? '#f1f5f9' : '#0f0f0f';\n        return /*#__PURE__*/_jsxDEV(MainContainer, {\n          backgroundColor: mainContainerBgColor,\n          children: [isBannerActive ? this.renderBannerContainer() : null, this.renderSearchContainer(), this.renderAllVideosList()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 11\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 5\n    }, this);\n  }\n\n  componentDidMount() {\n    this.getVideosData();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Context.Consumer, {\n      children: value => {\n        const {\n          isLightThemeActive\n        } = value;\n        const homeBgColor = isLightThemeActive ? '#f9f9f9' : '#181818';\n        return /*#__PURE__*/_jsxDEV(HomeContainer, {\n          backgroundColor: homeBgColor,\n          \"data-testid\": \"home\",\n          children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HomeBarsContainer, {\n            backgroundColor: homeBgColor,\n            children: [/*#__PURE__*/_jsxDEV(SidebarSection, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 307,\n              columnNumber: 17\n            }, this), this.renderMainContainer()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 304,\n          columnNumber: 13\n        }, this);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:/Users/Nagababu/Documents/GitHub/Netflix/web/src/components/Home/index.js"],"names":["Component","Cookies","Loader","RiCloseFill","BsSearch","Header","SidebarSection","VideoItemCard","Context","HomeContainer","HomeBarsContainer","MainContainer","BannerContainer","BannerContentContainer","BannerCloseButton","BannerHeading","BannerImage","BannerButton","VideosListHome","FailureViewContainer","FailureViewImage","FailureHeading","FailureText","FailureRetryButton","SearchForm","SearchInput","SearchButton","NoVideosViewContainer","NoVideosViewImage","NoVideosHeading","NoVideosText","NoVideosViewRetryButton","apiConstants","initial","success","failure","inProgress","Home","state","isBannerActive","apiStatus","videosList","searchInput","searchParameter","updateSearchValue","event","setState","target","value","onSubmitSearchForm","getVideosData","changeActiveRoute","alterActiveRoute","activeRoute","console","log","JwtToken","get","videosListUrl","options","method","response","fetch","ok","responseData","json","formattedData","videos","map","eachItem","channel","name","profileImageUrl","profile_image_url","id","publishedAt","published_at","thumbnailUrl","thumbnail_url","title","viewCount","view_count","hideBanner","onClickFailureRetry","renderFailureView","isLightThemeActive","failureImage","failureHeadingColor","failureTextColor","renderLoaderView","loaderColor","noVideosView","headingColor","textColor","length","renderBannerContainer","renderAllVideosList","renderSearchContainer","inputTextColor","buttonBackgroundColor","renderMainContainer","mainContainerBgColor","componentDidMount","render","homeBgColor"],"mappings":"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","sourcesContent":["import {Component} from 'react'\r\nimport Cookies from 'js-cookie'\r\nimport Loader from 'react-loader-spinner'\r\n\r\nimport {RiCloseFill} from 'react-icons/ri'\r\nimport {BsSearch} from 'react-icons/bs'\r\n\r\nimport Header from '../Header'\r\nimport SidebarSection from '../SidebarContainer'\r\nimport VideoItemCard from '../VideoListItem'\r\nimport Context from '../../Context/Context'\r\n\r\nimport './index.css'\r\nimport {\r\n  HomeContainer,\r\n  HomeBarsContainer,\r\n  MainContainer,\r\n  BannerContainer,\r\n  BannerContentContainer,\r\n  BannerCloseButton,\r\n  BannerHeading,\r\n  BannerImage,\r\n  BannerButton,\r\n  VideosListHome,\r\n  FailureViewContainer,\r\n  FailureViewImage,\r\n  FailureHeading,\r\n  FailureText,\r\n  FailureRetryButton,\r\n  SearchForm,\r\n  SearchInput,\r\n  SearchButton,\r\n  NoVideosViewContainer,\r\n  NoVideosViewImage,\r\n  NoVideosHeading,\r\n  NoVideosText,\r\n  NoVideosViewRetryButton,\r\n} from './styledComponents'\r\n\r\nconst apiConstants = {\r\n  initial: 'INITIAL',\r\n  success: 'SUCCESS',\r\n  failure: 'FAILURE',\r\n  inProgress: 'IN_PROGRESS',\r\n}\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    isBannerActive: true,\r\n    apiStatus: apiConstants.initial,\r\n    videosList: [],\r\n    searchInput: '',\r\n    searchParameter: '',\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.getVideosData()\r\n  }\r\n\r\n  updateSearchValue = event => {\r\n    this.setState({searchInput: event.target.value})\r\n  }\r\n\r\n  onSubmitSearchForm = () => {\r\n    const {searchInput} = this.state\r\n    this.setState({searchParameter: searchInput}, this.getVideosData)\r\n  }\r\n\r\n  changeActiveRoute = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {alterActiveRoute, activeRoute} = value\r\n        alterActiveRoute('home')\r\n        console.log(activeRoute)\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  getVideosData = async () => {\r\n    this.setState({\r\n      apiStatus: apiConstants.inProgress,\r\n    })\r\n    const {searchParameter} = this.state\r\n    const JwtToken = Cookies.get('jwt_token')\r\n    const videosListUrl = `http://127.0.0.1:8000/movies`\r\n    const options = {\r\n      method: 'GET',\r\n    }\r\n    const response = await fetch(videosListUrl, options)\r\n    if (response.ok) {\r\n      const responseData = await response.json()\r\n      const formattedData = responseData.videos.map(eachItem => ({\r\n        channel: {\r\n          name: eachItem.channel.name,\r\n          profileImageUrl: eachItem.channel.profile_image_url,\r\n        },\r\n        id: eachItem.id,\r\n        publishedAt: eachItem.published_at,\r\n        thumbnailUrl: eachItem.thumbnail_url,\r\n        title: eachItem.title,\r\n        viewCount: eachItem.view_count,\r\n      }))\r\n      this.setState({\r\n        videosList: formattedData,\r\n        apiStatus: apiConstants.success,\r\n      })\r\n    } else {\r\n      this.setState({\r\n        apiStatus: apiConstants.failure,\r\n      })\r\n    }\r\n  }\r\n\r\n  hideBanner = () => {\r\n    this.setState({\r\n      isBannerActive: false,\r\n    })\r\n  }\r\n\r\n  onClickFailureRetry = () => {\r\n    this.getVideosData()\r\n  }\r\n\r\n  renderFailureView = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {isLightThemeActive} = value\r\n        const failureImage = isLightThemeActive\r\n          ? 'https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-light-theme-img.png'\r\n          : 'https://assets.ccbp.in/frontend/react-js/nxt-watch-failure-view-dark-theme-img.png'\r\n        const failureHeadingColor = isLightThemeActive ? '#00306e' : '#ebebeb'\r\n        const failureTextColor = isLightThemeActive ? '#64748b' : '#d7dfe9'\r\n        return (\r\n          <FailureViewContainer>\r\n            <FailureViewImage src={failureImage} alt=\"failure view\" />\r\n            <FailureHeading color={failureHeadingColor}>\r\n              Oops! Something Went Wrong\r\n            </FailureHeading>\r\n            <FailureText color={failureTextColor}>\r\n              We are having some trouble to complete you request. Please try\r\n              again.\r\n            </FailureText>\r\n            <FailureRetryButton\r\n              type=\"button\"\r\n              onClick={this.onClickFailureRetry}\r\n            >\r\n              Retry\r\n            </FailureRetryButton>\r\n          </FailureViewContainer>\r\n        )\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  renderLoaderView = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {isLightThemeActive} = value\r\n        const loaderColor = isLightThemeActive ? '#000000' : '#ffffff'\r\n        return (\r\n          <div className=\"loader-container\" data-testid=\"loader\">\r\n            <Loader\r\n              type=\"ThreeDots\"\r\n              color={loaderColor}\r\n              height=\"50\"\r\n              width=\"50\"\r\n            />\r\n          </div>\r\n        )\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  noVideosView = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {isLightThemeActive} = value\r\n        const headingColor = isLightThemeActive ? '#181818' : '#f9f9f9'\r\n        const textColor = isLightThemeActive ? '#454545' : '#cecece'\r\n\r\n        return (\r\n          <NoVideosViewContainer>\r\n            <NoVideosViewImage\r\n              src=\"https://assets.ccbp.in/frontend/react-js/nxt-watch-no-search-results-img.png\"\r\n              alt=\"no videos\"\r\n            />\r\n            <NoVideosHeading color={headingColor}>\r\n              No Search results found\r\n            </NoVideosHeading>\r\n            <NoVideosText color={textColor}>\r\n              Try different key words or remove search filter\r\n            </NoVideosText>\r\n            <NoVideosViewRetryButton type=\"button\" onClick={this.getVideosData}>\r\n              Retry\r\n            </NoVideosViewRetryButton>\r\n          </NoVideosViewContainer>\r\n        )\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  videosList = () => {\r\n    const {videosList} = this.state\r\n    if (videosList.length === 0) {\r\n      return this.noVideosView()\r\n    }\r\n    return (\r\n      <VideosListHome>\r\n        {videosList.map(eachItem => (\r\n          <VideoItemCard key={eachItem.id} videoItem={eachItem} />\r\n        ))}\r\n      </VideosListHome>\r\n    )\r\n  }\r\n\r\n  renderBannerContainer = () => (\r\n    <BannerContainer data-testid=\"banner\">\r\n      <BannerContentContainer>\r\n        <BannerImage\r\n          src=\"https://assets.ccbp.in/frontend/react-js/nxt-watch-logo-light-theme-img.png\"\r\n          alt=\"nxt watch logo\"\r\n        />\r\n        <BannerHeading>Buy Nxt Watch Premium</BannerHeading>\r\n        <BannerButton type=\"button\">GET IT NOW</BannerButton>\r\n      </BannerContentContainer>\r\n      <BannerCloseButton\r\n        type=\"button\"\r\n        onClick={this.hideBanner}\r\n        data-testid=\"close\"\r\n      >\r\n        <RiCloseFill size=\"22\" />\r\n      </BannerCloseButton>\r\n    </BannerContainer>\r\n  )\r\n\r\n  renderAllVideosList = () => {\r\n    const {apiStatus} = this.state\r\n\r\n    switch (apiStatus) {\r\n      case apiConstants.failure:\r\n        return this.renderFailureView()\r\n      case apiConstants.inProgress:\r\n        return this.renderLoaderView()\r\n      case apiConstants.success:\r\n        return this.videosList()\r\n      default:\r\n        return null\r\n    }\r\n  }\r\n\r\n  renderSearchContainer = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {isLightThemeActive} = value\r\n        const inputTextColor = isLightThemeActive ? '#181818' : '#f9f9f9'\r\n        const buttonBackgroundColor = isLightThemeActive ? '#f9f9f9' : '#181818'\r\n        return (\r\n          <SearchForm>\r\n            <SearchInput\r\n              placeholder=\"Search\"\r\n              type=\"search\"\r\n              color={inputTextColor}\r\n              onChange={this.updateSearchValue}\r\n            />\r\n            <SearchButton\r\n              type=\"button\"\r\n              backgroundColor={buttonBackgroundColor}\r\n              data-testid=\"searchButton\"\r\n              onClick={this.onSubmitSearchForm}\r\n            >\r\n              <BsSearch size=\"22\" color={inputTextColor} />\r\n            </SearchButton>\r\n          </SearchForm>\r\n        )\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  renderMainContainer = () => (\r\n    <Context.Consumer>\r\n      {value => {\r\n        const {isBannerActive} = this.state\r\n        const {isLightThemeActive} = value\r\n        const mainContainerBgColor = isLightThemeActive ? '#f1f5f9' : '#0f0f0f'\r\n\r\n        return (\r\n          <MainContainer backgroundColor={mainContainerBgColor}>\r\n            {isBannerActive ? this.renderBannerContainer() : null}\r\n            {this.renderSearchContainer()}\r\n            {this.renderAllVideosList()}\r\n          </MainContainer>\r\n        )\r\n      }}\r\n    </Context.Consumer>\r\n  )\r\n\r\n  render() {\r\n    return (\r\n      <Context.Consumer>\r\n        {value => {\r\n          const {isLightThemeActive} = value\r\n          const homeBgColor = isLightThemeActive ? '#f9f9f9' : '#181818'\r\n          return (\r\n            <HomeContainer backgroundColor={homeBgColor} data-testid=\"home\">\r\n              <Header />\r\n              <HomeBarsContainer backgroundColor={homeBgColor}>\r\n                <SidebarSection />\r\n                {this.renderMainContainer()}\r\n              </HomeBarsContainer>\r\n            </HomeContainer>\r\n          )\r\n        }}\r\n      </Context.Consumer>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Home\r\n"]},"metadata":{},"sourceType":"module"}